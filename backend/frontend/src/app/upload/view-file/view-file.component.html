<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h4>File Data: {{ fileName }}</h4>
    <!-- Buttons for Navigation and Processing -->
    <div>
      <button class="btn btn-secondary me-2" (click)="goBack()">Back</button>
      <button class="btn btn-primary" (click)="processData()">Process</button>
    </div>
  </div>

  <!-- Table with Pagination -->
  <div class="table-responsive">
    <table
      *ngIf="pagedData.length > 0"
      class="table table-hover table-striped table-bordered text-center"
    >
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Person ID</th>
          <th>Name</th>
          <th>Department</th>
          <th>Position</th>
          <th>Gender</th>
          <th>Date</th>
          <th>Week</th>
          <th>Timetable</th>
          <th>Check-in</th>
          <th>Check-out</th>
          <th>Work</th>
          <th>OT</th>
          <th>Attended</th>
          <th>Late</th>
          <th>Early</th>
          <th>Absent</th>
          <th>Leave</th>
          <th>Status</th>
          <th>Records</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of pagedData; let i = index">
          <td>{{ (currentPage - 1) * pageSize + i + 1 }}</td>
          <td>{{ data.person_id }}</td>
          <td>{{ data.name }}</td>
          <td>{{ data.department }}</td>
          <td>{{ data.position }}</td>
          <td>{{ data.gender }}</td>
          <td>{{ data.date }}</td>
          <td>{{ data.week }}</td>
          <td>{{ data.timetable }}</td>
          <td>{{ data.check_in }}</td>
          <td>{{ data.check_out }}</td>
          <td>{{ data.work }}</td>
          <td>{{ data.ot }}</td>
          <td>{{ data.attended }}</td>
          <td>{{ data.late }}</td>
          <td>{{ data.early }}</td>
          <td>{{ data.absent }}</td>
          <td>{{ data.leave }}</td>
          <td>{{ data.status }}</td>
          <td>{{ data.records }}</td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="pagedData.length === 0" class="text-muted text-center mt-4">
      No data found.
    </p>
  </div>

  <!-- Pagination Controls -->
  <nav *ngIf="fileData.length > pageSize" class="mt-4">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="changePage(currentPage - 1)">
          Previous
        </button>
      </li>
      <li
        *ngFor="let page of pages"
        class="page-item"
        [class.active]="page === currentPage"
      >
        <button class="page-link" (click)="changePage(page)">{{ page }}</button>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link" (click)="changePage(currentPage + 1)">
          Next
        </button>
      </li>
    </ul>
  </nav>
</div>
